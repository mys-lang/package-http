from http.server import FileResponse
from http.server import Request
from http.server import Response
from http.server import Route
from http.server import Server
from os.path import Path

class FileRoute(Route):

    func on_get(self, request: Request) -> Response:
        path = Path(".").join(request.path)
        print("GET:", path)

        return FileResponse(path)

func main():
    server = Server()
    server.add_route_regex(re".*", FileRoute())
    server.serve()
